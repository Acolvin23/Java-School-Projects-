// MFA-OTP //
   import java.util.ArrayList;
   import java.util.Random;
   import java.util.Scanner;

public class MFA_OTP 
{
 // Method to generate a random 6-digit OTP //
 
    private static String generateOTP() 
    {
        Random random = new Random();
        int otp = 100000 + random.nextInt(900000); 
        
 // Ensures a 6-digit number //
   
        return String.valueOf(otp);
    }

 // Simulated email sending //
    
    private static void sendOTP(String email, String otp) 
    {
        System.out.println("Sending OTP to email: " + email);
        System.out.println("Your OTP is: " + otp); // Replace with actual email service in production
    }

    public static void main(String[] args) 
    {
        Scanner scanner = new Scanner(System.in);

  // User Login //
 
        System.out.print("Enter username: ");
        String username = scanner.nextLine();
        System.out.print("Enter password: ");
        String password = scanner.nextLine();

 
  // Creating Secured User's List & Password Array Objects //
  ArrayList<String> otpusernames = new ArrayList<String>();
   otpusernames.add(" test23 ");
   otpusernames.add(" ");
   otpusernames.add("  ");
   otpusernames.add("  ");
   otpusernames.add("  "); 
   otpusernames.add("  ");
   otpusernames.add("  ");
   otpusernames.add("  ");
   otpusernames.add("  ");

// Logic For Username Array List //
   String otpusernamesList = " Usernames:\n";
 
 // Convert The ArrayList To A String //
 
   String result = otpusernames.toString();
 
   for (int index = 0; index < otpusernames.size(); index++)
   {
     otpusernamesList += otpusernames.get(index) + "\n";
   }

 
  // Simulate Authentication //

        if ("Usernames:\n".equals(username) && "Account27@".equals(password)) 
        {
            System.out.println("Login successful. Proceeding to MFA...");

 // Generate & Send OTP //
 
            String email = "testaccount2019@gmail.com"; 
            String otp = generateOTP();
            sendOTP(email, otp);

 // Verify OTP //

            System.out.print("Enter the OTP sent to your email: ");
            String enteredOtp = scanner.nextLine();

            if (otp.equals(enteredOtp)) {
                System.out.println("MFA successful! You are now logged in!");
            }
            else 
            {
                System.out.println("Invalid OTP. Access denied.");
            }
        } 
        else 
        {
            System.out.println("Invalid username or password, please try again!");
        }

        scanner.close();
  // End of Program //
    }
}





// Key Notes:
// Security: This is a simplified example. In production, use secure libraries like Spring Security for authentication and services like Twilio or SendGrid for OTP delivery.
// Email Service: Replace the sendOTP method with an actual email-sending service (e.g., JavaMail API or third-party APIs).
// Environment Variables: Store sensitive information (e.g., email credentials) in environment variables or a secure configuration file.

// This program provides a basic structure for MFA, which you can expand upon to include SMS-based OTPs, authenticator apps, or biometric authentication. 
